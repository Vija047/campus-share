# render.yml
services:
  - type: static
    name: campus-share-frontend
    env: static
    buildCommand: "npm install && npm run build"
    publishDirectory: "dist"
    staticPublishPath: "./dist"
    rootDir: ./frontend
    envVars:
      - key: NODE_ENV
        value: "production"
      - key: VITE_NODE_ENV
        value: "production"
      - key: VITE_API_URL
        value: "https://campus-share-backend.onrender.com/api"
      - key: VITE_SOCKET_URL
        value: "https://campus-share-backend.onrender.com"
    plan: free
    redirects:
      - source: "/*"
        destination: "/index.html"
        status: 200
    headers:
      - source: "/assets/*"
        headers:
          - key: "Cache-Control"
            value: "public, max-age=31536000, immutable"
      - source: "/*"
        headers:
          - key: "X-Content-Type-Options"
            value: "nosniff"
          - key: "X-Frame-Options"
            value: "DENY"
          - key: "X-XSS-Protection"
            value: "1; mode=block"
